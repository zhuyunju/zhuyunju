<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>深度学习框架-TensorFlow | 会飞的猪</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="猪的学习笔记">
    
    <link rel="preload" href="/assets/css/0.styles.7cfabf05.css" as="style"><link rel="preload" href="/assets/js/app.32184412.js" as="script"><link rel="preload" href="/assets/js/2.bf4cfade.js" as="script"><link rel="preload" href="/assets/js/13.24734bd0.js" as="script"><link rel="prefetch" href="/assets/js/10.2fce3ca8.js"><link rel="prefetch" href="/assets/js/11.14bf95bb.js"><link rel="prefetch" href="/assets/js/12.1c7f07f1.js"><link rel="prefetch" href="/assets/js/14.dd2da934.js"><link rel="prefetch" href="/assets/js/15.4ad28d33.js"><link rel="prefetch" href="/assets/js/16.2c8457dd.js"><link rel="prefetch" href="/assets/js/17.dd734ec5.js"><link rel="prefetch" href="/assets/js/3.cb83fe4d.js"><link rel="prefetch" href="/assets/js/4.5ea218e0.js"><link rel="prefetch" href="/assets/js/5.cdd70e81.js"><link rel="prefetch" href="/assets/js/6.4310bead.js"><link rel="prefetch" href="/assets/js/7.a4a5042a.js"><link rel="prefetch" href="/assets/js/8.07aa2d75.js"><link rel="prefetch" href="/assets/js/9.1b6d8249.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7cfabf05.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="会飞的猪" class="logo"> <span class="site-name can-hide">会飞的猪</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/html5orcss/" class="nav-link">
  HTML5+CSS
</a></li><li class="dropdown-item"><!----> <a href="/notes/WEP/" class="nav-link">
  前端移动进阶
</a></li><li class="dropdown-item"><!----> <a href="/notes/Js/" class="nav-link">
  Web APIs
</a></li><li class="dropdown-item"><!----> <a href="/notes/AJAX/" class="nav-link">
  Ajax
</a></li><li class="dropdown-item"><!----> <a href="/notes/Node/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  uniapp
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="人工智能" class="dropdown-title"><span class="title">人工智能</span> <span class="arrow down"></span></button> <button type="button" aria-label="人工智能" class="mobile-dropdown-title"><span class="title">人工智能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AI/numpy/" class="nav-link">
  numpy
</a></li><li class="dropdown-item"><!----> <a href="/AI/pandas/" class="nav-link">
  pandas
</a></li><li class="dropdown-item"><!----> <a href="/AI/matplotib/matplotib.html" class="nav-link">
  matplotib
</a></li><li class="dropdown-item"><!----> <a href="/AI/tensorflow/tensorflow.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  tensorflow
</a></li></ul></div></div> <a href="https://gitee.com/zhu-yunju" target="_blank" rel="noopener noreferrer" class="repo-link">
    码云
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/html5orcss/" class="nav-link">
  HTML5+CSS
</a></li><li class="dropdown-item"><!----> <a href="/notes/WEP/" class="nav-link">
  前端移动进阶
</a></li><li class="dropdown-item"><!----> <a href="/notes/Js/" class="nav-link">
  Web APIs
</a></li><li class="dropdown-item"><!----> <a href="/notes/AJAX/" class="nav-link">
  Ajax
</a></li><li class="dropdown-item"><!----> <a href="/notes/Node/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  uniapp
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="人工智能" class="dropdown-title"><span class="title">人工智能</span> <span class="arrow down"></span></button> <button type="button" aria-label="人工智能" class="mobile-dropdown-title"><span class="title">人工智能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AI/numpy/" class="nav-link">
  numpy
</a></li><li class="dropdown-item"><!----> <a href="/AI/pandas/" class="nav-link">
  pandas
</a></li><li class="dropdown-item"><!----> <a href="/AI/matplotib/matplotib.html" class="nav-link">
  matplotib
</a></li><li class="dropdown-item"><!----> <a href="/AI/tensorflow/tensorflow.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  tensorflow
</a></li></ul></div></div> <a href="https://gitee.com/zhu-yunju" target="_blank" rel="noopener noreferrer" class="repo-link">
    码云
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="深度学习框架-tensorflow"><a href="#深度学习框架-tensorflow" class="header-anchor">#</a> 深度学习框架-TensorFlow</h1> <h4 id="_1、使用tf-data加载数据。"><a href="#_1、使用tf-data加载数据。" class="header-anchor">#</a> 1、使用tf.data加载数据。</h4> <h4 id="_2、模型的建立与调试。"><a href="#_2、模型的建立与调试。" class="header-anchor">#</a> 2、模型的建立与调试。</h4> <h4 id="_3、模型的训练。"><a href="#_3、模型的训练。" class="header-anchor">#</a> 3、模型的训练。</h4> <h4 id="_4、预训练模型调用。"><a href="#_4、预训练模型调用。" class="header-anchor">#</a> 4、预训练模型调用。</h4> <h4 id="_5、模型的部署"><a href="#_5、模型的部署" class="header-anchor">#</a> 5、模型的部署</h4> <h2 id="一、张量tensor"><a href="#一、张量tensor" class="header-anchor">#</a> 一、张量tensor</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 导入相关的包</span>
<span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_1-基本方法"><a href="#_1-基本方法" class="header-anchor">#</a> 1.基本方法</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 创建int32类型的0维张量,（标量）</span>
<span class="token comment"># constant创建常量</span>
rank_0_tensor <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>rank_0_tensor<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language- extra-class"><pre><code>tf.Tensor(5, shape=(), dtype=int32)
</code></pre></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 创建1维张量</span>
rank_1_tensor <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>rank_1_tensor<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- extra-class"><pre><code>tf.Tensor([1 2 3], shape=(3,), dtype=int32)
</code></pre></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 创建2维张量</span>
rank_2_tensor <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>rank_2_tensor<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language- extra-class"><pre><code>tf.Tensor(
[[1 2 3]
 [1 2 3]
 [1 2 3]], shape=(3, 3), dtype=int32)
</code></pre></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 创建float32类型的张量</span>
rank_3_tensor <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>rank_3_tensor<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language- extra-class"><pre><code>tf.Tensor(
[[[ 0  1  2  3  4]
  [ 5  6  7  8  9]]

 [[10 11 12 13 14]
  [15 16 17 18 19]]

 [[20 21 22 23 24]
  [25 26 27 28 29]]], shape=(3, 2, 5), dtype=int32)
</code></pre></div><h4 id="_2、转换成numpy"><a href="#_2、转换成numpy" class="header-anchor">#</a> 2、转换成numpy</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># np.array</span>
np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>rank_1_tensor<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- extra-class"><pre><code>array([1, 2, 3])
</code></pre></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># tensor.numpy()</span>
rank_1_tensor<span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- extra-class"><pre><code>array([1, 2, 3])
</code></pre></div><h4 id="_3、常用函数"><a href="#_3、常用函数" class="header-anchor">#</a> 3、常用函数</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>add<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>multiply<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- extra-class"><pre><code>tf.Tensor(
[[2 3 4]
 [2 3 4]], shape=(2, 3), dtype=int32) 

tf.Tensor(
[[1 2 3]
 [1 2 3]], shape=(2, 3), dtype=int32) 
</code></pre></div><h4 id="_3、变量"><a href="#_3、变量" class="header-anchor">#</a> 3、变量</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 变量(Variable)</span>
my_variable <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h1 id="二、keras"><a href="#二、keras" class="header-anchor">#</a> 二、keras</h1> <h3 id="常用模块"><a href="#常用模块" class="header-anchor">#</a> *常用模块</h3> <h4 id="模块-概述"><a href="#模块-概述" class="header-anchor">#</a> 模块 —— 概述</h4> <ul><li>activations——激活函数</li> <li>applications——预训练网络模块</li> <li>Callbacks——在模型训练期间被调用</li> <li>datasets——tf.keras数据集块，包括boston_housing,cifar10fashion_minst,imdb,mnist</li> <li>layers——kreas层api</li> <li>losses——各种损失函数</li> <li>metircs——各种评价指标</li> <li>models——模型创建，以及模型相关的api</li> <li>optimizers——优化方法</li> <li>preprocessing——kreass数据预处理模块</li> <li>regularizers——正则化，L1,L2</li> <li>utils——辅助功能实现</li></ul> <h4 id="深度学习主要流程"><a href="#深度学习主要流程" class="header-anchor">#</a> 深度学习主要流程：</h4> <h4 id="数据获取-数据处理-模型创建与训练-模型测试与评估-模型预测"><a href="#数据获取-数据处理-模型创建与训练-模型测试与评估-模型预测" class="header-anchor">#</a> 数据获取 =&gt; 数据处理 =&gt; 模型创建与训练 =&gt; 模型测试与评估 =&gt; 模型预测</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 导入kreas</span>
<span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token keyword">from</span> tensorflow <span class="token keyword">import</span> keras
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 数据获取</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 模型构建</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 配置模型训练过程:</span>
<span class="token comment"># model.compile()方法用于在配置训练方法时，</span>
<span class="token comment"># 告知训练时用的优化器、损失函数和准确率评测标准.</span>
<span class="token comment"># optimizer = 优化器，loss = 损失函数，metrics = [&quot;准确率&quot;]</span>
model<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>optimizer<span class="token operator">=</span>tf<span class="token punctuation">.</span>train<span class="token punctuation">.</span>AdamOptimizer<span class="token punctuation">(</span><span class="token number">0.001</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              loss<span class="token operator">=</span><span class="token string">'categorical_crossentropy'</span><span class="token punctuation">,</span>
              metrics<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'accuracy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- extra-class"><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-30-ce8a28941d6b&gt; in &lt;module&gt;
      3 # 告知训练时用的优化器、损失函数和准确率评测标准.
      4 # optimizer = 优化器，loss = 损失函数，metrics = [&quot;准确率&quot;]
----&gt; 5 model.compile(optimizer=tf.train.AdamOptimizer(0.001),
      6               loss='categorical_crossentropy',
      7               metrics=['accuracy'])


NameError: name 'model' is not defined
</code></pre></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 模型训练</span>
<span class="token comment"># 指明训练数据集，训练epoch,批次大小和验证集数据</span>
model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>dataset<span class="token punctuation">,</span>epochs<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>
         batch_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>
         validataion_data<span class="token operator">=</span>val_dataset<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 指明评估数据集和批次大小</span>
model<span class="token punctuation">.</span>evaluate<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> batch_size<span class="token operator">=</span><span class="token number">32</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 对新的样本进行预测</span>
model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>x<span class="token punctuation">,</span> batch_size<span class="token operator">=</span><span class="token number">32</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.32184412.js" defer></script><script src="/assets/js/2.bf4cfade.js" defer></script><script src="/assets/js/13.24734bd0.js" defer></script>
  </body>
</html>
